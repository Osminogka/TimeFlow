"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[347],{5177:function(e,a,s){var t=s(2505);const n="/api/authentication",l=async(e,a)=>{const s=`${n}${e}`,t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok){const e=await t.json();throw new Error(e.message||"API request failed")}return t.json()},u=async(e,a)=>{const s=await l("/login",{email:e,password:a});return s.success&&(0,t.f7)(s.message),s},r=async(e,a,s)=>{const n=await l("/register",{name:e,email:a,password:s});return n.success&&(0,t.f7)(n.message),n};a.A={login:u,register:r}},5347:function(e,a,s){s.r(a),s.d(a,{default:function(){return f}});s(4114);var t=s(6768),n=s(5130),l=s(4232),u=s(5177),r=s(144),i=s(1387);const o={class:"register-form"},c={key:0,class:"error-message"};var d={__name:"LoginPage",setup(e){const a=(0,r.KR)(""),s=(0,r.KR)(""),d=(0,r.KR)(""),v=(0,i.rd)();async function p(){try{let e=await u.A.login(a.value,s.value);e.success?v.push("/"):d.value=e.message}catch(e){d.value=e.message}}function f(){d.value="",""===a.value||""===s.value?d.value="Please fill in all fields":s.value.length<8?d.value="Password must be at least 8 characters":a.value.includes("@")&&a.value.includes(".")||(d.value="Invalid email address"),""===d.value&&p()}return(e,u)=>((0,t.uX)(),(0,t.CE)("div",o,[u[4]||(u[4]=(0,t.Lk)("h1",null,"ðŸ” Login",-1)),(0,t.Lk)("form",{onSubmit:u[3]||(u[3]=(0,n.D$)(((...a)=>e.register&&e.register(...a)),["prevent"]))},[(0,t.bo)((0,t.Lk)("input",{class:"input-field",type:"email",id:"email","onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e),placeholder:"Email",required:""},null,512),[[n.Jo,a.value]]),(0,t.bo)((0,t.Lk)("input",{class:"input-field",type:"password",id:"password","onUpdate:modelValue":u[1]||(u[1]=e=>s.value=e),placeholder:"Password",required:""},null,512),[[n.Jo,s.value]]),(0,t.Lk)("button",{class:"submit-button",type:"submit",onClick:u[2]||(u[2]=(0,n.D$)((e=>f()),["prevent"]))},"Login")],32),d.value?((0,t.uX)(),(0,t.CE)("p",c,(0,l.v_)(d.value),1)):(0,t.Q3)("",!0)]))}},v=s(1241);const p=(0,v.A)(d,[["__scopeId","data-v-1dab99f0"]]);var f=p}}]);
//# sourceMappingURL=347.2200ff5d.js.map