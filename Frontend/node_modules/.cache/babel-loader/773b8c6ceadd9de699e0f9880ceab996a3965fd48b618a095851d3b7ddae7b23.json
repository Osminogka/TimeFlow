{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport { getCurrentUser } from '@/core/authentication';\nconst routes = [{\n  path: \"/login\",\n  name: \"Login\",\n  component: () => import(\"../components/LoginPage.vue\"),\n  meta: {\n    title: \"Login\",\n    requireAuth: false\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach(to => {\n  const loggedIn = getCurrentUser();\n  if (to.meta.requireAuth && !loggedIn) {\n    return {\n      name: \"Login\",\n      query: {\n        redirect: to.fullPath\n      }\n    };\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  document.title = to.meta.title || 'Default Title';\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","getCurrentUser","routes","path","name","component","meta","title","requireAuth","router","history","beforeEach","to","loggedIn","query","redirect","fullPath","from","next","document"],"sources":["E:/Programming/Server/TimeFlow/Frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\r\n\r\nimport { getCurrentUser } from '@/core/authentication'; \r\n\r\nconst routes = [\r\n    {\r\n        path: \"/login\",\r\n        name: \"Login\",\r\n        component: () => import(\"../components/LoginPage.vue\"),\r\n        meta:{\r\n            title: \"Login\",\r\n            requireAuth: false\r\n        }\r\n    },\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes\r\n});\r\n\r\nrouter.beforeEach((to) => {\r\n    const loggedIn = getCurrentUser();\r\n    \r\n    if(to.meta.requireAuth && !loggedIn){\r\n        return {name: \"Login\", query: {redirect: to.fullPath}};\r\n    }\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    document.title = to.meta.title || 'Default Title';\r\n    next();\r\n});\r\n\r\nexport default router;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,SAASC,cAAc,QAAQ,uBAAuB;AAEtD,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6BAA6B,CAAC;EACtDC,IAAI,EAAC;IACDC,KAAK,EAAE,OAAO;IACdC,WAAW,EAAE;EACjB;AACJ,CAAC,CACJ;AAED,MAAMC,MAAM,GAAGV,YAAY,CAAC;EACxBW,OAAO,EAAEV,gBAAgB,CAAC,CAAC;EAC3BE;AACJ,CAAC,CAAC;AAEFO,MAAM,CAACE,UAAU,CAAEC,EAAE,IAAK;EACtB,MAAMC,QAAQ,GAAGZ,cAAc,CAAC,CAAC;EAEjC,IAAGW,EAAE,CAACN,IAAI,CAACE,WAAW,IAAI,CAACK,QAAQ,EAAC;IAChC,OAAO;MAACT,IAAI,EAAE,OAAO;MAAEU,KAAK,EAAE;QAACC,QAAQ,EAAEH,EAAE,CAACI;MAAQ;IAAC,CAAC;EAC1D;AACJ,CAAC,CAAC;AAEFP,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEK,IAAI,EAAEC,IAAI,KAAK;EAClCC,QAAQ,CAACZ,KAAK,GAAGK,EAAE,CAACN,IAAI,CAACC,KAAK,IAAI,eAAe;EACjDW,IAAI,CAAC,CAAC;AACV,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}