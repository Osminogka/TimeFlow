{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport authApi from \"@/services/utils\";\nconst routes = [{\n  path: \"/login\",\n  name: \"Login\",\n  component: () => import(\"../components/LoginPage.vue\"),\n  meta: {\n    title: \"Login\",\n    requireAuth: false\n  }\n}, {\n  path: \"/register\",\n  name: \"Register\",\n  component: () => import(\"../components/RegisterPage.vue\"),\n  meta: {\n    title: \"Register\",\n    requireAuth: false\n  }\n}, {\n  path: \"/addfriend\",\n  name: \"AddFriend\",\n  component: () => import(\"../components/AddFriend.vue\"),\n  meta: {\n    title: \"Add Friend\",\n    requireAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach(to => {\n  const loggedIn = authApi.getCurrentUser();\n  if (to.meta.requireAuth && !loggedIn) {\n    return {\n      name: \"Login\",\n      query: {\n        redirect: to.fullPath\n      }\n    };\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  document.title = to.meta.title || 'TimeFlow';\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","authApi","routes","path","name","component","meta","title","requireAuth","router","history","beforeEach","to","loggedIn","getCurrentUser","query","redirect","fullPath","from","next","document"],"sources":["E:/Programming/Server/TimeFlow/Frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\r\n\r\nimport authApi from \"@/services/utils\";\r\n\r\nconst routes = [\r\n    {\r\n        path: \"/login\",\r\n        name: \"Login\",\r\n        component: () => import(\"../components/LoginPage.vue\"),\r\n        meta:{\r\n            title: \"Login\",\r\n            requireAuth: false\r\n        }\r\n    },\r\n    {\r\n        path: \"/register\",\r\n        name: \"Register\",\r\n        component: () => import(\"../components/RegisterPage.vue\"),\r\n        meta:{\r\n            title: \"Register\",\r\n            requireAuth: false\r\n        }\r\n    },\r\n    {\r\n        path: \"/addfriend\",\r\n        name: \"AddFriend\",\r\n        component: () => import(\"../components/AddFriend.vue\"),\r\n        meta:{\r\n            title: \"Add Friend\",\r\n            requireAuth: true\r\n        }\r\n    }\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes\r\n});\r\n\r\nrouter.beforeEach((to) => {\r\n    const loggedIn = authApi.getCurrentUser();\r\n    \r\n    if(to.meta.requireAuth && !loggedIn){\r\n        return {name: \"Login\", query: {redirect: to.fullPath}};\r\n    }\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    document.title = to.meta.title || 'TimeFlow';\r\n    next();\r\n});\r\n\r\nexport default router;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,OAAOC,OAAO,MAAM,kBAAkB;AAEtC,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6BAA6B,CAAC;EACtDC,IAAI,EAAC;IACDC,KAAK,EAAE,OAAO;IACdC,WAAW,EAAE;EACjB;AACJ,CAAC,EACD;EACIL,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,gCAAgC,CAAC;EACzDC,IAAI,EAAC;IACDC,KAAK,EAAE,UAAU;IACjBC,WAAW,EAAE;EACjB;AACJ,CAAC,EACD;EACIL,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6BAA6B,CAAC;EACtDC,IAAI,EAAC;IACDC,KAAK,EAAE,YAAY;IACnBC,WAAW,EAAE;EACjB;AACJ,CAAC,CACJ;AAED,MAAMC,MAAM,GAAGV,YAAY,CAAC;EACxBW,OAAO,EAAEV,gBAAgB,CAAC,CAAC;EAC3BE;AACJ,CAAC,CAAC;AAEFO,MAAM,CAACE,UAAU,CAAEC,EAAE,IAAK;EACtB,MAAMC,QAAQ,GAAGZ,OAAO,CAACa,cAAc,CAAC,CAAC;EAEzC,IAAGF,EAAE,CAACN,IAAI,CAACE,WAAW,IAAI,CAACK,QAAQ,EAAC;IAChC,OAAO;MAACT,IAAI,EAAE,OAAO;MAAEW,KAAK,EAAE;QAACC,QAAQ,EAAEJ,EAAE,CAACK;MAAQ;IAAC,CAAC;EAC1D;AACJ,CAAC,CAAC;AAEFR,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEM,IAAI,EAAEC,IAAI,KAAK;EAClCC,QAAQ,CAACb,KAAK,GAAGK,EAAE,CAACN,IAAI,CAACC,KAAK,IAAI,UAAU;EAC5CY,IAAI,CAAC,CAAC;AACV,CAAC,CAAC;AAEF,eAAeV,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}