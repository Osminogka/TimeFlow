{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $setup.chartData.labels.length ? (_openBlock(), _createBlock($setup[\"PieChart\"], {\n    key: 0,\n    data: $setup.chartData\n  }, null, 8 /* PROPS */, [\"data\"])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_1, \"No transactions available\"));\n}","map":{"version":3,"names":["key","$setup","chartData","labels","length","_createBlock","data","_createElementBlock","_hoisted_1"],"sources":["E:\\Programming\\Server\\TimeFlow\\Frontend\\src\\components\\PieChartComponent.vue"],"sourcesContent":["<script setup>\r\nimport { ref, computed, watch } from 'vue';\r\nimport { PieChart } from 'vue-chart-3';\r\nimport { Chart, registerables } from 'chart.js';\r\n\r\nChart.register(...registerables);\r\n\r\nconst props = defineProps({\r\n  transactions: Array\r\n});\r\n\r\n// Make transactions reactive (useful if data updates dynamically)\r\nconst transactions = ref(props.transactions);\r\n\r\n// Computed property to process categories reactively\r\nconst chartData = computed(() => {\r\n  const categories = {};\r\n\r\n  transactions.value.forEach(tx => {\r\n    categories[tx.category] = (categories[tx.category] || 0) + tx.amount;\r\n  });\r\n\r\n  return {\r\n    labels: Object.keys(categories),\r\n    datasets: [\r\n      {\r\n        data: Object.values(categories),\r\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#4BC0C0'], \r\n      }\r\n    ]\r\n  };\r\n});\r\n\r\n// Debugging logs\r\nwatch(transactions, () => {\r\n  console.log('Transactions updated:', transactions.value);\r\n  console.log('Chart Data:', chartData.value);\r\n}, { deep: true });\r\n\r\n</script>\r\n\r\n<template>\r\n  <PieChart v-if=\"chartData.labels.length\" :data=\"chartData\" />\r\n  <p v-else>No transactions available</p>\r\n</template>\r\n"],"mappings":";;EAAAA,GAAA;AAAA;;SA0CkBC,MAAA,CAAAC,SAAS,CAACC,MAAM,CAACC,MAAM,I,cAAvCC,YAAA,CAA6DJ,MAAA;IA1C/DD,GAAA;IA0C4CM,IAAI,EAAEL,MAAA,CAAAC;sDAChDK,mBAAA,CAAuC,KA3CzCC,UAAA,EA2CY,2BAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}